<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Carlo Eusebi">
    <title>Boolzap</title>
    <link rel="icon" type="icon/png" href="https://boolean.careers/favicon/favicon-32x32.png">
    <!-- font awesome -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'
        integrity='sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=='
        crossorigin='anonymous'>
    <!-- my library -->
    <link rel="stylesheet" href="styles/mylibrary.css" type="text/css">
    <!-- styles.css -->
    <link rel="stylesheet" href="styles/styles.css" type="text/css">
    <!-- vue -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- data.js -->
    <script src="js/data.js"></script>
    <!-- javascript -->
    <script defer src="js/scripts.js"></script>
</head>

<body>

    <!-- Exercise made by
    CARLO EUSEBI -->

    <!-- BACKGROUND -->
    <div class="background" id="root">
        <div class="container">

            <!-- MAIN -->
            <main>

                <!-- ! CONTACTS PAGE -->
                <section id="contacts">

                    <!-- header -->
                    <header class="d-flex justify-space-between">

                        <!-- contact card -->
                        <div class="contact user">
                            <div class="avatar">
                                <img :src="user.avatar" :alt="user.name">
                            </div>
                            <p class="name">{{user.name}}</p>
                        </div>

                        <div class="activity-buttons">
                            <i class="fa-solid fa-xl fa-circle-notch"></i>
                            <i class="fa-solid fa-xl fa-message"></i>
                            <i class="fa-solid fa-xl fa-ellipsis-vertical"></i>
                        </div>
                    </header>

                    <!-- notification -->
                    <div id="notification-settings">
                        <i class="fa-solid fa-bell-slash fa-xl"></i>
                        <di>
                            <p>Receive new message notifications</p>
                            <p class="activate-notification-btn">Activate desktop notifications</p>
                        </di>
                    </div>

                    <!-- search -->
                    <div class="search-contact">
                        <input type="search" placeholder="Search or start a new chat">
                    </div>

                    <!-- contact list -->
                    <div id="contacts-list">
                        <ul>

                            <li v-for="contact in contacts" @click="setActiveId(contact.id)">
                                <div class="contact">
                                    <div class="avatar">
                                        <img :src="contact.avatar" :alt="contact.name">
                                    </div>
                                    <div class="name-wrapper">
                                        <p class="name">{{contact.name}}</p>
                                        <p class="message">{{contact.lastMessage.message}}</p>
                                    </div>
                                    <p class="last-access">{{contact.lastMessage.date}}</p>
                                </div>
                            </li>

                        </ul>
                    </div>
                </section>

                <!-- ! CHAT PAGE -->
                <section id="chat">

                    <!-- header -->
                    <header class="d-flex justify-space-between align-center">

                        <!-- contact -->
                        <div class="contact active">
                            <div class="avatar">
                                <img :src="activeContact.avatar" :alt="activeContact.name">
                            </div>
                            <div>
                                <p class="name">{{ activeContact.name}}</p>
                                <p class="last-access">Ultimo accesso oggi alle {{activeContact.lastMessage.date}}</p>
                            </div>
                        </div>

                        <!-- chat buttons -->
                        <div class="activity-buttons">
                            <i class="fa-solid fa-xl fa-magnifying-glass"></i>
                            <i class="fa-solid fa-xl fa-paperclip"></i>
                            <i class="fa-solid fa-xl fa-ellipsis-vertical"></i>
                        </div>

                    </header>

                    <!-- CHAT -->
                    <div class="chat">


                        <div v-for="message in activeContact.messages" class="bubble" :class="message.status">
                            <p class="message mb-10">{{message.message}}</p>
                            <p class="date">{{message.date}}</p>
                            <i class="fa-solid fa-angle-down"></i>
                        </div>


                    </div>

                    <!-- FOOTER CHAT -->
                    <footer class="d-flex justify-center align-center">
                        <div class="emoticons activity-buttons">
                            <i class="fa-regular fa-face-smile fa-2x"></i>
                        </div>
                        <div class="message-input h-100">
                            <textarea rows="3" placeholder="Scrivi un messaggio"></textarea>
                        </div>
                        <div class="send activity-buttons">
                            <i class="fa-solid fa-microphone fa-2x"></i>
                        </div>
                    </footer>

                </section>

            </main>

        </div>
    </div>

</body>

</html>